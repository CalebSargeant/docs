

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>General &mdash; Caleb Sargeant&#39;s Docs 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="MPLS" href="../mpls/index.html" />
    <link rel="prev" title="Monitoring" href="monitoring.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Caleb Sargeant's Docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Networking</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Cisco</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core-security/index.html">Core Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../routing/index.html">Routing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Switching</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="core-concepts-and-design.html">Core Concepts and Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="vlans.html">VLANs</a></li>
<li class="toctree-l3"><a class="reference internal" href="stp.html">STP</a></li>
<li class="toctree-l3"><a class="reference internal" href="etherchannel.html">Etherchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="l3-switching.html">L3 Switching</a></li>
<li class="toctree-l3"><a class="reference internal" href="redundancy-in-the-campus.html">HSRP, VRRP, and GLBP</a></li>
<li class="toctree-l3"><a class="reference internal" href="campus-security.html">Campus Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="campus-voip.html">Campus VoIP</a></li>
<li class="toctree-l3"><a class="reference internal" href="wireless-lan.html">Wireless LAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="the-switches-domain.html">The Switch’s Domain</a></li>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html">Monitoring</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">General</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aaa">AAA</a></li>
<li class="toctree-l4"><a class="reference internal" href="#health">Health</a></li>
<li class="toctree-l4"><a class="reference internal" href="#factory-default-settings">Factory Default Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ios-upgrade">IOS Upgrade</a></li>
<li class="toctree-l4"><a class="reference internal" href="#isolating-guest-network">Isolating Guest Network</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mpls/index.html">MPLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ngfw-ngips/index.html">NGFW &amp; NGIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devnetday/index.html">DevNet Day</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aci.html">ACI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asa.html">ASA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asav.html">ASAv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dna.html">DNA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general.html">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../genie.html">Genie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ise.html">ISE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nexus.html">Nexus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nso.html">NSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../virl.html">VIRL</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../fortigate.html">FortiGate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hp.html">HP Procurve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../juniper.html">Juniper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ubiquiti-unifi.html">Ubiquiti UniFi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../netdevops-toolchest.html">NetDevOps Tool Chest</a></li>
</ul>
<p class="caption"><span class="caption-text">Computing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/ansible/index.html">Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/cloud/index.html">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/containerisation/index.html">Containerisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/jenkins/index.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/linux/index.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/terraform/index.html">Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/microsoft/index.html">Microsoft</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../other/api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../other/general/index.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../other/iperf.html">iPerf3</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Caleb Sargeant's Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Cisco</a> &raquo;</li>
        
          <li><a href="index.html">Switching</a> &raquo;</li>
        
      <li>General</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/networking/cisco/switching/general.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="general">
<h1>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h1>
<div class="section" id="aaa">
<h2>AAA<a class="headerlink" href="#aaa" title="Permalink to this headline">¶</a></h2>
<div class="section" id="radius">
<h3>RADIUS<a class="headerlink" href="#radius" title="Permalink to this headline">¶</a></h3>
<p>You cannot use LDAP on a Cisco switch (at least not this one):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SW(config)#aaa authentication login default group ?
WORD     Server-group name
radius   Use list of all Radius hosts.
tacacs+  Use list of all Tacacs+ hosts.
</pre></div>
</div>
<p>The below adds the radius-server to the switch with the secret key “test” and enables authentication via radius, then local</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># enable aaa
aaa new-model

# configure the radius server on the switch
radius-server host x.x.x.x auth-port 1812 acct-port 1813 key test

# enable radius authentication for the switch
aaa authentication login default group radius local

# enable an enable password to become privileged
enable password mypasswordhere

# enable vendor specific attributes (optional for basic config, but necessary for advanced features - ISE)
radius-server vsa send authentication
radius-server vsa send accounting

# maintain and build an IP tracking table to track hosts that connect to network (ISE)
ip device tracking

# to test authentication
SW#test aaa group radius caleb.test Password1 new-code
User successfully authenticated
</pre></div>
</div>
<p>Via NPS:</p>
<p>Add the client to NPS</p>
<img alt="../../../_images/switching-aaa-radius-1.png" src="../../../_images/switching-aaa-radius-1.png" />
<img alt="../../../_images/switching-aaa-radius-2.png" src="../../../_images/switching-aaa-radius-2.png" />
</div>
</div>
<div class="section" id="health">
<h2>Health<a class="headerlink" href="#health" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>CPU: <code class="docutils literal notranslate"><span class="pre">Sh</span> <span class="pre">proc</span> <span class="pre">cpu</span> <span class="pre">sorted</span> <span class="pre">|</span> <span class="pre">ex</span> <span class="pre">0.00</span></code></p></li>
</ul>
</div>
<div class="section" id="factory-default-settings">
<h2>Factory Default Settings<a class="headerlink" href="#factory-default-settings" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Hold down the mode button</p></li>
<li><p>Plug in console cable</p></li>
<li><p>Commands:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>switch: flash_init
switch: dir flash:
switch: del flash:config.text
del flash:vlan.dat
boot
</pre></div>
</div>
</div>
<div class="section" id="ios-upgrade">
<h2>IOS Upgrade<a class="headerlink" href="#ios-upgrade" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Setup a TFTP server</p></li>
<li><p>Commands:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Backup config
copy run start

# Backup config to server
copy startup-config tftp:

# Copy the .bin file downloaded to flash
copy tftp flash:

# Verify the .bin file
verify flash:xxxx.bin

# Specify to boot off of the new .bin file
boot system flash:xxxxxxx.bin
reload
</pre></div>
</div>
</div>
<div class="section" id="isolating-guest-network">
<h2>Isolating Guest Network<a class="headerlink" href="#isolating-guest-network" title="Permalink to this headline">¶</a></h2>
<p>The below configuration is applied on the Core Switch(es) in to block the guest network (VLAN100) from accessing the rest of the networks.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ip access-list extended VLAN100
  permit udp any eq bootpc host 10.10.10.10 eq bootps
  permit udp any eq bootpc host 10.10.10.11 eq bootps
  permit udp any any eq domain
  permit tcp any host 10.10.10.12 eq 8880
  deny ip any 10.0.0.0 0.255.255.255
  deny ip any 172.16.0.0 0.15.255.255
  deny ip any 192.168.0.0 0.0.255.255
  deny ip any 169.254.0.0 0.0.255.255
  permit ip any any

interface Vlan100
  ip access-group VLAN100 in
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../mpls/index.html" class="btn btn-neutral float-right" title="MPLS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="monitoring.html" class="btn btn-neutral float-left" title="Monitoring" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Caleb Sargeant.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>